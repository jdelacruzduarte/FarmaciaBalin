-- MySQL Script generated by MySQL Workbench
-- 11/27/15 14:02:01
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`Proveedores`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Proveedores` (
  `idProveedores` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `NombreProveedores` VARCHAR(12) NOT NULL COMMENT '',
  `TelefonoProveedores` VARCHAR(12) NOT NULL COMMENT '',
  `RNCProveedores` VARCHAR(12) NOT NULL COMMENT '',
  `DescripcionProveedores` VARCHAR(45) NOT NULL COMMENT '',
  `EstadoProveedores` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`idProveedores`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Productos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Productos` (
  `idProductos` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `idProveedor` INT NOT NULL COMMENT '',
  `NombreProductos` VARCHAR(18) NOT NULL COMMENT '',
  `DescripcionProductos` VARCHAR(45) NOT NULL COMMENT '',
  `PrecioProductos` DOUBLE NOT NULL COMMENT '',
  `CantidadProductos` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idProductos`)  COMMENT '',
  INDEX `idProveedores_idx` (`idProveedor` ASC)  COMMENT '',
  CONSTRAINT `idProveedores`
    FOREIGN KEY (`idProveedor`)
    REFERENCES `mydb`.`Proveedores` (`idProveedores`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Clientes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Clientes` (
  `idClientes` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `NombreCliente` VARCHAR(12) NOT NULL COMMENT '',
  `ApellidoCliente` VARCHAR(18) NOT NULL COMMENT '',
  `CedulaCliente` VARCHAR(11) NOT NULL COMMENT '',
  `DireccionCliente` VARCHAR(45) NOT NULL COMMENT '',
  `EstadoCLiente` VARCHAR(8) NOT NULL COMMENT '',
  `TelefonoCliente` VARCHAR(12) NOT NULL COMMENT '',
  PRIMARY KEY (`idClientes`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`GestorCuentas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`GestorCuentas` (
  `idCuenta` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `TipoUsuario` VARCHAR(12) NOT NULL COMMENT '',
  `Usuario` VARCHAR(8) NOT NULL COMMENT '',
  `Contrasena` VARCHAR(12) NOT NULL COMMENT '',
  PRIMARY KEY (`idCuenta`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Usuario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Usuario` (
  `idUsuario` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `idCuenta` INT NOT NULL COMMENT '',
  `NombreUsuario` VARCHAR(8) NOT NULL COMMENT '',
  `ApellidoUsuario` VARCHAR(12) NOT NULL COMMENT '',
  `CedulaUsuario` VARCHAR(12) NOT NULL COMMENT '',
  `TelefonoUsuario` VARCHAR(12) NOT NULL COMMENT '',
  `CelularUsuario` VARCHAR(12) NOT NULL COMMENT '',
  `SexoUsuario` CHAR(1) NOT NULL COMMENT '',
  `EstadoUsuario` VARCHAR(8) NOT NULL COMMENT '',
  `DireccionUsuario` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`idUsuario`)  COMMENT '',
  INDEX `idCuenta_idx` (`idCuenta` ASC)  COMMENT '',
  CONSTRAINT `idCuenta`
    FOREIGN KEY (`idCuenta`)
    REFERENCES `mydb`.`GestorCuentas` (`idCuenta`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Factura`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Factura` (
  `idFactura` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `idClientes` INT NOT NULL COMMENT '',
  `idUsuario` INT NOT NULL COMMENT '',
  `DescripcionFactura` VARCHAR(45) NOT NULL COMMENT '',
  `MontoFactura` DOUBLE NOT NULL COMMENT '',
  `FechaFactura` DATE NOT NULL COMMENT '',
  `RNC` VARCHAR(12) NOT NULL COMMENT '',
  `ConceptoFactura` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`idFactura`)  COMMENT '',
  INDEX `isClientes_idx` (`idClientes` ASC)  COMMENT '',
  INDEX `idUsuario_idx` (`idUsuario` ASC)  COMMENT '',
  CONSTRAINT `isClientes`
    FOREIGN KEY (`idClientes`)
    REFERENCES `mydb`.`Clientes` (`idClientes`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `idUsuario`
    FOREIGN KEY (`idUsuario`)
    REFERENCES `mydb`.`Usuario` (`idUsuario`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Seguro`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Seguro` (
  `NumeroSeguro` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `idClientes` INT NOT NULL COMMENT '',
  `NumeroAfiliado` VARCHAR(12) NOT NULL COMMENT '',
  `NSS` VARCHAR(12) NOT NULL COMMENT '',
  `PlanSeguro` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`NumeroSeguro`)  COMMENT '',
  INDEX `fk_Seguro_Clientes1_idx` (`idClientes` ASC)  COMMENT '',
  CONSTRAINT `fk_Seguro_Clientes1`
    FOREIGN KEY (`idClientes`)
    REFERENCES `mydb`.`Clientes` (`idClientes`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`OrdenProductos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`OrdenProductos` (
  `idOrdenProductos` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `idProductos` INT NOT NULL COMMENT '',
  `idFactura` INT NOT NULL COMMENT '',
  `CantidadOrdenProducto` INT NOT NULL COMMENT '',
  `OrdenProductoPrecio` DECIMAL(6) NOT NULL COMMENT '',
  `OrdenProductosImporte` DECIMAL(6) NOT NULL COMMENT '',
  `FechaOrdenProductos` DATE NOT NULL COMMENT '',
  PRIMARY KEY (`idOrdenProductos`)  COMMENT '',
  INDEX `idProductos_idx` (`idProductos` ASC)  COMMENT '',
  INDEX `idFactura_idx` (`idFactura` ASC)  COMMENT '',
  CONSTRAINT `idProductos`
    FOREIGN KEY (`idProductos`)
    REFERENCES `mydb`.`Productos` (`idProductos`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `idFactura`
    FOREIGN KEY (`idFactura`)
    REFERENCES `mydb`.`Factura` (`idFactura`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
